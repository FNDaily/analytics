Analytics.reports.BaseReport=Garnish.Base.extend({type:null,chart:null,data:null,period:null,options:null,visualization:null,$report:null,$chart:null,init:function(t,a){this.$report=t,this.$report.html(""),this.$chart=$('<div class="chart" />').appendTo(this.$report),this.data=a,"undefined"!=typeof this.data.chartOptions&&(this.chartOptions=this.data.chartOptions),"undefined"!=typeof this.data.type&&(this.type=this.data.type),"undefined"!=typeof this.data.period&&(this.period=this.data.period),this.addListener(Garnish.$win,"resize","resize"),this.initChart(),"undefined"!=typeof this.data.onAfterInit&&this.data.onAfterInit()},initChart:function(){this.$chart.addClass(this.type)},draw:function(){this.dataTable&&this.chartOptions&&this.chart.draw(this.dataTable,this.chartOptions)},resize:function(){this.chart&&this.dataTable&&this.chartOptions&&this.chart.draw(this.dataTable,this.chartOptions)}}),Analytics.reports.Area=Analytics.reports.BaseReport.extend({initChart:function(){this.base(),$period=$('<div class="period" />').prependTo(this.$report),$title=$('<div class="title" />').prependTo(this.$report),$title.html(this.data.metric),$period.html(this.data.periodLabel),this.chart=new Craft.charts.Area(this.$chart);var t=new Craft.charts.DataTable(this.data.dataTable),a={week:"day",month:"day",year:"month"},i=a[this.data.period],e={dataScale:i};this.chart.draw(t,e)}}),Analytics.reports.Counter=Analytics.reports.BaseReport.extend({initChart:function(){this.base(),$value=$('<div class="value" />').appendTo(this.$chart),$label=$('<div class="label" />').appendTo(this.$chart),$period=$('<div class="period" />').appendTo(this.$chart),$value.html(this.data.counter.count),$label.html(this.data.metric),$period.html(" "+this.data.periodLabel)}}),Analytics.reports.Pie=Analytics.reports.BaseReport.extend({initChart:function(){this.base(),$period=$('<div class="period" />').prependTo(this.$report),$title=$('<div class="title" />').prependTo(this.$report),$title.html(this.data.dimension),$period.html(this.data.metric+" "+this.data.periodLabel),this.chart=new Craft.charts.Pie(this.$chart);var t=new Craft.charts.DataTable(this.data.dataTable);this.chart.draw(t)}}),Analytics.reports.Table=Analytics.reports.BaseReport.extend({initChart:function(){this.base(),this.$chart.empty(),$period=$('<div class="period" />').prependTo(this.$report),$title=$('<div class="title" />').prependTo(this.$report),$title.html(this.data.metric),$period.html(this.data.periodLabel);var t=$('<table class="data fullwidth">').appendTo(this.$chart),a=$("<thead>").appendTo(t),i=$("<tr>").appendTo(a),e=$("<tbody>").appendTo(t);$.each(this.data.chart.columns,function(t,a){$("<th>"+a.label+"</th>").appendTo(i)}),$.each(this.data.chart.rows,function(t,a){var i=$("<tr>").appendTo(e);$.each(a,function(t,a){$("<td>"+a+"</td>").appendTo(i)})})}}),Analytics.reports.Geo=Analytics.reports.BaseReport.extend({initChart:function(){this.base(),$period=$('<div class="period" />').prependTo(this.$report),$title=$('<div class="title" />').prependTo(this.$report),$title.html(this.data.metric),$period.html(this.data.periodLabel),this.chart=new Craft.charts.Map(this.$chart);var t=this.data.chart;this.chart.draw(t)}});