<div id="type-custom" class="{% if settings.type != 'custom' %} hidden{% endif %}">
    <hr>
    <input type="hidden" name="options[reportType]" value="standard" />


    {% set chartType = (settings.options.chartType is defined ? settings.options.chartType : 'AreaChart') %}

    {{ forms.selectField({
        label: "Chart Type"|t,
        options: {
            "AreaChart":"Area Chart",
            "ColumnChart":"Column Chart",
            "GeoChart":"Geo Chart",
            "PieChart":"Pie Chart",
            "Table":"Table",
        },
        class: 'analytics-chart-type-2',
        name: 'options[chartType]',
        value: chartType,
        toggle: true,
        targetPrefix: 'charttype-',
    }) }}



    {{ forms.selectField({
        label: "Metric"|t,
        options: craft.analytics.metricOpts,
        name: 'options[metric]',
        value: (settings.options.metric is defined ? settings.options.metric : '')
    }) }}

    {% include 'analytics/widgets/customReport/settings/area' %}
    {% include 'analytics/widgets/customReport/settings/bar' %}
    {% include 'analytics/widgets/customReport/settings/column' %}
    {% include 'analytics/widgets/customReport/settings/geo' %}
    {% include 'analytics/widgets/customReport/settings/pie' %}
    {% include 'analytics/widgets/customReport/settings/table' %}

    <hr>



    {% set dataFilters = (settings.options.filters is defined ? settings.options.filters : false) %}

    <table class="data analytics-filters">
        <tbody>
            {% for dataFilter in dataFilters %}
                {% set k = loop.index0 %}
                <tr>
                    <td>
                        {{ forms.selectField({
                            options: {
                                show:"Show",
                                hide:"Don't Show"
                            },
                            name: 'options[filters]['~k~'][visibility]',
                            value: (dataFilter.visibility is defined ? dataFilter.visibility : '')
                        }) }}
                    </td>
                    <td>

                        {{ forms.selectField({
                            options: craft.analytics.dimensionOpts,
                            name: 'options[filters]['~k~'][dimension]',
                            value: (dataFilter.dimension is defined ? dataFilter.dimension : '')
                        }) }}
                    </td>
                    <td>
                        {{ forms.selectField({
                            options: {
                                exactMatch:"Exact Match",
                                regularExpression:"Regular Expression",
                                contains:"Contains",
                            },
                            name: 'options[filters]['~k~'][operator]',
                            value: (dataFilter.operator is defined ? dataFilter.operator : 'contains')
                        }) }}
                    </td>
                    <td>
                        {{ forms.textField({
                            name: 'options[filters]['~k~'][value]',
                            value: (dataFilter.value is defined ? dataFilter.value : '')
                        }) }}
                    </td>
                    <td>
                        <span class="btn small analytics-remove-filter">Remove</span>
                    </td>
                </tr>
            {% endfor %}
            <tr class="prototype hidden">
                <td>
                    {{ forms.selectField({
                        options: {
                            show:"Show",
                            hide:"Don't Show"
                        },
                        name: 'options[filters][{index}][visibility]'
                    }) }}
                </td>
                <td>

                    {{ forms.selectField({
                        options: craft.analytics.dimensionOpts,
                        name: 'options[filters][{index}][dimension]'
                    }) }}
                </td>
                <td>
                    {{ forms.selectField({
                        options: {
                            exactMatch:"Exact Match",
                            regularExpression:"Regular Expression",
                            contains:"Contains",
                        },
                        name: 'options[filters][{index}][operator]',
                        value: 'contains'
                    }) }}
                </td>
                <td>
                    {{ forms.textField({
                        name: 'options[filters][{index}][value]'
                    }) }}
                </td>
                <td>
                    <span class="btn small analytics-remove-filter">Remove</span>
                </td>
            </tr>
        </tbody>
    </table>

    <p>
        <span class="btn small analytics-add-filter">Add Filter</span>
    </p>

    <hr>
</div>