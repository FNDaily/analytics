{% extends "_layouts/cp" %}

{% includeJsResource 'analytics/js/jsapi.js' %}
{% includeJsResource 'analytics/js/AnalyticsChart.js' %}

{% set title = 'Store'|t %}

{% set content %}

    {% include 'analytics/_chart' with {
        type: 'LineChart',
        query: {
            param2: now|date_modify("-1 week")|date("Y-m-d"),
            param3: now|date("Y-m-d"),
            param4: 'ga:visits',
            param5: {
                'dimensions' : 'ga:language'
            }
        },
        columns: [
            {
                type: 'string',
                label: 'Language'
            },
            {
                type: 'number',
                label: 'Visits'
            }
        ]
    } %}

    {% include 'analytics/_chart' with {
        type: 'ColumnChart',
        query: {
            param2: now|date_modify("-1 week")|date("Y-m-d"),
            param3: now|date("Y-m-d"),
            param4: 'ga:visits',
            param5: {
                'dimensions' : 'ga:language'
            }
        },
        columns: [
            {
                type: 'string',
                label: 'Language'
            },
            {
                type: 'number',
                label: 'Visits'
            }
        ]
    } %}

    {% include 'analytics/_chart' with {
        type: 'PieChart',
        query: {
            param2: now|date_modify("-1 week")|date("Y-m-d"),
            param3: now|date("Y-m-d"),
            param4: 'ga:visits',
            param5: {
                'dimensions' : 'ga:language'
            }
        },
        columns: [
            {
                type: 'string',
                label: 'Language'
            },
            {
                type: 'number',
                label: 'Visits'
            }
        ]
    } %}

    {% include 'analytics/_chart' with {
        type: 'Table',
        query: {
            param2: now|date_modify("-1 week")|date("Y-m-d"),
            param3: now|date("Y-m-d"),
            param4: 'ga:visits',
            param5: {
                'dimensions' : 'ga:language'
            }
        },
        columns: [
            {
                type: 'string',
                label: 'Language'
            },
            {
                type: 'number',
                label: 'Visits'
            }
        ]
    } %}

{% endset %}