var charts={};google.load("visualization","1",{packages:["corechart","table","geochart"]});(function(e){var t=function(t,n,r){var i=e(t),s=this,o=e.extend(!0,{options:{},chartQuery:{},chartOptions:{chartType:"line"}},r),u=!1,a=!1,f=!1;this.drawChart=function(){u.draw(a,f)};this.initTableChart=function(){f=e.extend({legend:"none",page:"enable",chartArea:{width:"100%",bottom:"50"}},o.chartOptions||{});a=new google.visualization.DataTable(n,.5);u=new google.visualization.Table(t);this.drawChart()};this.initChart=function(){if(o.chartOptions.chartType=="table")this.initTableChart();else{a=google.visualization.arrayToDataTable(n);switch(o.chartOptions.chartType){case"line":f=e.extend({legend:{position:"bottom"},chartArea:{width:"100%",left:50,right:50,top:50,bottom:50},vAxis:{minValue:4,format:"#"},hAxis:{minValue:4,format:"#",showTextEvery:5}},o.chartOptions||{});u=new google.visualization.LineChart(t);break;case"column":f=e.extend({sliceVisibilityThreshold:.02,pieHole:.5,vAxis:{textPosition:"in"}},o.chartOptions||{});u=new google.visualization.ColumnChart(t);break;case"bubble":f=e.extend({legend:"none",sliceVisibilityThreshold:.02,pieHole:.5,vAxis:{textPosition:"in"}},o.chartOptions||{});u=new google.visualization.BubbleChart(t);break;case"bar":f=e.extend({legend:"none",vAxis:{textPosition:"in"}},o.chartOptions||{});u=new google.visualization.BarChart(t);break;case"donut":f=e.extend(!0,{legend:"none",sliceVisibilityThreshold:.05,pieHole:.5},o.chartOptions);u=new google.visualization.PieChart(t);break;default:f=e.extend({legend:"none",sliceVisibilityThreshold:.02,pieHole:.5,chartArea:{left:50,right:50,top:50,bottom:50}},o.chartOptions||{});u=new google.visualization.ColumnChart(t)}u.draw(a,f)}};this.initChart();e(window).resize(function(){s.drawChart()})};e.fn.dchart=function(e,n){return this.each(function(){var r=new t(this,e,n)})}})(jQuery);